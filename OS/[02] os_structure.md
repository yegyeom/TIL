# 운영체제 구조

```
운영체제 => 도서관
응용 프로그램 => 시민
컴퓨터 하드웨어 => 책

1. 응용 프로그램(시민)이 운영체제(도서관)에서 컴퓨터 하드웨어(책)를 요청한다.
2. 운영체제(도서관)는 컴퓨터 하드웨어(책)를 찾아서 응용 프로그램에게 빌려준다.
3. 사용 기간이 다 되면, 운영체제(도서관)는 해당 컴퓨터 하드웨어(책)를 회수한다.
```

<img src="https://t1.daumcdn.net/cfile/tistory/2361913755A72C6331"></img>

- 운영체제는 응용 프로그램이 요청하는 메모리를 허가하고, 분배한다.
- 운영체제는 응용 프로그램이 요청하는 CPU 시간을 제공한다.
- 운영체제는 응용 프로그램이 요청하는 I/O Devices의 사용을 허가/제안한다.

---

### 쉘 (Shell)

- 사용자가 OS의 기능과 서비스를 조작할 수 있도록 인터페이스를 제공하는 프로그램
- CLI, GUI
- 사용자 <=> OS

### API (Application Programming Interface)

- 운영체제나 프로그래밍 언어가 제공하는 기능을 제어할 수 있게 만든 인터페이스
- 이 중 OS는 응용 프로그램이 OS의 각 기능을 사용할 수 있도록 **시스템콜**이라는 명령 또는 함수를 제공하는데, 그래서 API 내부에는 시스템콜을 호출하는 형태로 만들어지는 경우가 대부분
- 응용 프로그램 <=> OS

### 시스템콜

- 시스템 호출 인터페이스
- 운영체제는 **커널 모드**와 **사용자 모드**로 나뉘어 구동
- 시스템콜은 커널영역의 기능을 사용자 모드에서 사용 가능하게 해주는 역할
- API 내부에서 시스템 콜을 호출하는 형태로 만들어짐

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FqtYBV%2FbtqV2XmAmAv%2FxKkLn4AiXj6IFpornoCEZK%2Fimg.png"></img>

```
응용 프로그램이 운영체제 기능을 요청하기 위해, 운영체제는 시스템 콜을 제공

응용 프로그램이 실행되어 운영체제의 기능이 필요한 API를 호출
=> 시스템 콜이 호출되어 커널 모드로 변경
=> OS 내부에서 해당 명령이 실행되고 다시 응용 프로그램으로 돌아감
```

### 커널 (Kernel)

- 운영체제 중 항상 필요한 부분만을 메모리에 올려놓고 그렇지 않은 부분은 필요할 때 메모리에 올려서 사용함
- 메모리에 상주하는 운영체제의 핵심을 커널이라고 함
- HW를 SW적으로 추상화하여 사용자가 쉽게 프로그래밍 or 쉽게 접근하게 함

---

## Reference

- https://libertegrace.tistory.com/entry/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EA%B5%AC%EC%A1%B0-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%BD%9C
- https://maihon.oopy.io/study/os/structure
- 2020년도 숭실대학교 컴퓨터학부 운영체제 강의 (홍지만 교수님)
